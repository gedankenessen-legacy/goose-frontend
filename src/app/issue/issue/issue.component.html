<div class="goose-wrapper">
  <div *ngIf="loading">
    <nz-spin nzSimple></nz-spin>
  </div>
  <div *ngIf="!loading" class="issue">
    <div nz-row>
      <div nz-col nzFlex="4">
        <h2 nz-typography>{{ issue.issueDetail.name }}</h2>
        <p nz-typography>{{ issue.issueDetail.description }}</p>
        <p nz-typography>
          Status: {{ issue.stateId }}<br />
          Autor: {{ issue.author?.firstname }} {{ issue.author?.lastname }}<br />
          Typ: {{ issue.issueDetail.type }}
        </p>
      </div>
      <div nz-col nzFlex="1">
        <button nz-button nzType="primary" [nzBlock]="true">
          <i nz-icon nzType="edit" nzTheme="outline"></i> Bearbeiten
        </button>
      </div>
    </div>
    <div nz-row class="issue__functions">
      <ul
        nz-menu
        nzMode="inline"
        nz-col
        nzFlex="1"
        class="issue__functions__navigation"
      >
        <ul>
          <ul>
            <li nz-menu-item nzSelected (click)="changedSelectedMenu(0)">
              Kommunikation
            </li>
            <li nz-menu-item (click)="changedSelectedMenu(1)">Zeiten</li>
            <li nz-menu-item (click)="changedSelectedMenu(2)">Zugewiesen</li>
            <li nz-menu-item (click)="changedSelectedMenu(3)">
              Zusammenfassung
            </li>
          </ul>
          <li nz-menu-group nzTitle="Untertickets">
            <!-- <ul>
              <li nz-menu-item *ngFor="let currentIssue of issueSuccessors">
                <a [routerLink]="['/issue/' + currentIssue.id]">{{
                  currentIssue.name
                }}</a>
              </li>
            </ul> -->
          </li>
          <li nz-menu-group nzTitle="VorgÃ¤nger">
            <!-- <ul>
              <li nz-menu-item *ngFor="let currentIssue of issueSredecessors">
                <a [routerLink]="['/issue/' + currentIssue.id]">{{
                  currentIssue.name
                }}</a>
              </li>
            </ul> -->
          </li>
        </ul>
      </ul>
      <div nz-col nzFlex="5" [ngSwitch]="currenActivComponent">
        <app-conversation
          *ngSwitchCase="0"
          [issueObservable]= "issueSubject"
        ></app-conversation>
        <div *ngSwitchCase="1">Zeiten</div>
        <app-issue-assigned *ngSwitchCase="2">Zugewiesen</app-issue-assigned>
        <div *ngSwitchCase="3">Zusammenfassung</div>
      </div>
    </div>
  </div>
</div>
